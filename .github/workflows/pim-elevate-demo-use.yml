name: PIM Elevate Demo - Usage Example

# This workflow demonstrates calling the reusable template `pim-elevate.yml`.
# Trigger it manually (Actions → PIM Elevate Demo - Usage Example → Run workflow) and

permissions:
  id-token: write
  contents: read

on:
  workflow_dispatch:

jobs:
  call-pim-template:
    name: Call reusable PIM template (demo)
    # Call the reusable workflow
    uses: ./.github/workflows/pim-elevate.yml
    with:
      # Example single-role / single-resource pairing. Replace with real IDs in your tenant.
      roleIds: '["b86a8fe4-44ce-4948-aee5-eccb2c155cd7"]'
      resourceIds: '["/subscriptions/<AZURE_SUBSCRIPTION_ID>/resourceGroups/my-rg/providers/Microsoft.KeyVault/vaults/kvozvlgqf3cdcia"]'
    secrets: inherit
 